<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Seraph Proxy</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;}

body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Inter,sans-serif;
  background:#fff;color:#111;
  padding:40px;
  transition:opacity .35s ease, transform .35s ease;
  opacity:0;
}

body.page-exit{
  opacity:0;
  transform:translateX(-20px);
}

/* Layout */
.container{
  max-width:900px;
  margin:auto;
}

h1{
  margin-bottom:20px;
}

/* Input UI */
form{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

input{
  padding:12px 14px;
  border-radius:10px;
  border:1px solid #ccc;
  flex:1;
  min-width:250px;
  font-size:14px;
}

button{
  padding:12px 18px;
  border:none;
  background:#111;
  color:#fff;
  border-radius:10px;
  cursor:pointer;
  font-weight:500;
}

button:hover{
  opacity:.85;
}

/* Frame */
iframe{
  margin-top:25px;
  width:100%;
  height:70vh;
  border-radius:14px;
  border:1px solid #ddd;
  background:#fff;
}

/* LEFT TABS (same as index) */
.side-tabs{
  position:fixed;
  top:50%;
  left:20px;
  transform:translateY(-50%);
  background:#fff;
  border-radius:40px;
  box-shadow:0 8px 25px rgba(0,0,0,0.15);
  display:flex;
  flex-direction:column;
  padding:6px;
  gap:6px;
  z-index:9999;
}

.tab-btn{
  background:#fff;border:none;width:44px;height:44px;
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;color:#111;
  transition:all .2s ease;
}

.tab-btn:hover{
  background:#f2f2f2;
  transform:scale(1.07);
}

.tab-btn.active{
  background:#111;color:#fff;
}
</style>
</head>
<body>

<!-- LEFT TAB SWITCHER -->
<div class="side-tabs">
  <!-- Home -->
  <button class="tab-btn" onclick="navigate('/')">
    <svg viewBox="0 0 24 24" width="20">
      <path fill="currentColor" d="M12 3l9 8h-3v9h-4v-6H10v6H6v-9H3z"/>
    </svg>
  </button>

  <!-- Active Proxy -->
  <button class="tab-btn active">
    <svg viewBox="0 0 24 24" width="20">
      <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/>
      <path d="M3 12h18M12 3a15 15 0 010 18M12 3a15 15 0 000 18"
            stroke="currentColor" stroke-width="1.6" fill="none"/>
    </svg>
  </button>
</div>

<div class="container">
  <h1>Seraph Proxy</h1>

  <form onsubmit="go(event)">
    <input id="url" placeholder="https://example.com">
    <button>Go</button>
  </form>

  <iframe id="frame"></iframe>
</div>

<script>
// smooth enter animation
window.addEventListener("pageshow", () => {
  document.body.style.opacity = 1;
});

// animated navigation
function navigate(url){
  document.body.classList.add("page-exit");
  setTimeout(()=>{ window.location.href = url; }, 300);
}

// proxy loader
function go(e){
  e.preventDefault();
  const url = document.getElementById("url").value.trim();
  if(!url) return;

  document.getElementById("frame").src =
    "/.netlify/functions/proxy?url=" + encodeURIComponent(url);
}
</script>

</body>
</html>
